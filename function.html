<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
    
</head>

<body>

      <textarea></textarea>
      <p id="log">0</p>
      <p id ="caution"></p>


  <script>
    const textArea = document.getElementById('textArea');
      const strLen = document.getElementById('strLen');

      textArea.onkeyup = function(){
        const len = document.getElementById('textArea').value.length;
        strLen.innerText = len + '文字';

        if( len >= 10 ){
          strLen.style.color = 'red';
          strLen.innerText = '10文字以上では送信できません';
        } else if(len < 10){
          strLen.style.color = '#333';
        }
      }
    
    window.onload = function(){

    const textarea = document.querySelector('textarea');
    const log = document.getElementById('log');
    const caution = document.getElementById('caution');

    textarea.addEventListener('keyup', function(){
      const output = textarea.value.replace(/\s+/g, "");
      const length = output.trim().length;
      log.textContent = length;
      if(length > 10){
        log.style.color = '#ff0000';
        caution.style.color = '#ff0000';
        caution.textContent = '10文字以内にしてください';
      }else if(length <= 10){
        log.style.color = '#000';
        caution.textContent = '';
      }
    });
    }

  </script>
  
</body>
</html>
